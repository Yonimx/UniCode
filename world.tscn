[gd_scene load_steps=22 format=4 uid="uid://cthf72tpyh3xh"]

[ext_resource type="PackedScene" uid="uid://bewqthh6cessp" path="res://player/player.tscn" id="1_f3sb7"]
[ext_resource type="Script" uid="uid://bnaut7qgb4mtj" path="res://world.gd" id="1_wse8f"]
[ext_resource type="Texture2D" uid="uid://b2pj4rey7mjmj" path="res://tile maps/sprite/floortiles.png" id="3_036b0"]
[ext_resource type="Texture2D" uid="uid://bsvgl3d2po8sg" path="res://tile maps/sprite/wallclass.png" id="4_dwbse"]
[ext_resource type="Texture2D" uid="uid://b258hjolcnrmu" path="res://tile maps/sprite/chairclass.png" id="5_036b0"]
[ext_resource type="Texture2D" uid="uid://bkxsns2171uq6" path="res://tile maps/sprite/classfloorboard.png" id="6_pkg7o"]
[ext_resource type="Texture2D" uid="uid://b3pyue1u1cxsa" path="res://tile maps/sprite/M_F_whiteboard.png" id="7_gbfbk"]
[ext_resource type="Texture2D" uid="uid://8w5si31ec2bn" path="res://tile maps/sprite/M_F_lab_station.png" id="8_gbfbk"]
[ext_resource type="PackedScene" uid="uid://c71lh7ggbr04m" path="res://fade_transition.tscn" id="9_ioo17"]
[ext_resource type="PackedScene" uid="uid://ch7iy4j2puv4m" path="res://interactible/locker.tscn" id="10_wse8f"]
[ext_resource type="PackedScene" uid="uid://c1e3lx1hqkl6u" path="res://interactible/treasure_chest.tscn" id="11_ic0uy"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_pkg7o"]
texture = ExtResource("3_036b0")
texture_region_size = Vector2i(32, 32)
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
3:0/0 = 0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_gbfbk"]
texture = ExtResource("4_dwbse")
texture_region_size = Vector2i(32, 32)
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
1:0/0 = 0
1:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
2:0/0 = 0
2:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
3:0/0 = 0
3:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
0:1/0 = 0
0:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
1:1/0 = 0
1:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, -0.63726, -16, -0.63726)
2:1/0 = 0
2:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, -0.63726, -16, -0.63726)
3:1/0 = 0
3:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_dwbse"]
texture = ExtResource("5_036b0")
texture_region_size = Vector2i(32, 32)
0:0/size_in_atlas = Vector2i(2, 2)
0:0/0 = 0

[sub_resource type="TileSet" id="TileSet_ioo17"]
tile_size = Vector2i(32, 32)
physics_layer_0/collision_layer = 16
physics_layer_0/collision_mask = 0
sources/0 = SubResource("TileSetAtlasSource_pkg7o")
sources/1 = SubResource("TileSetAtlasSource_gbfbk")
sources/3 = SubResource("TileSetAtlasSource_dwbse")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_ioo17"]
texture = ExtResource("6_pkg7o")
texture_region_size = Vector2i(2, 2)
0:2/size_in_atlas = Vector2i(112, 30)
0:2/0 = 0
0:2/0/custom_data_0 = "floorboard"

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_wse8f"]
texture = ExtResource("5_036b0")
texture_region_size = Vector2i(2, 2)
10:3/size_in_atlas = Vector2i(15, 20)
10:3/0 = 0
10:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-14.1226, -5.98489, -1.11948, -5.98489, -0.947248, -19.9353, 14.1657, -19.9783, 14.0578, 3.78236, 10.5906, 9.7711, 2.96285, 9.96022, -14.0351, 9.83982)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_ic0uy"]
texture = ExtResource("7_gbfbk")
texture_region_size = Vector2i(2, 2)
6:5/size_in_atlas = Vector2i(116, 19)
6:5/0 = 0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_k3n1d"]
texture = ExtResource("8_gbfbk")
texture_region_size = Vector2i(2, 2)
4:4/size_in_atlas = Vector2i(24, 26)
4:4/0 = 0

[sub_resource type="TileSet" id="TileSet_k3n1d"]
tile_size = Vector2i(2, 2)
physics_layer_0/collision_layer = 16
physics_layer_0/collision_mask = 0
custom_data_layer_0/name = "tileName"
custom_data_layer_0/type = 4
sources/0 = SubResource("TileSetAtlasSource_ioo17")
sources/1 = SubResource("TileSetAtlasSource_wse8f")
sources/2 = SubResource("TileSetAtlasSource_ic0uy")
sources/3 = SubResource("TileSetAtlasSource_k3n1d")

[sub_resource type="GDScript" id="GDScript_ic0uy"]
script/source = "extends StaticBody2D

@onready var interactible: Area2D = $interactible
@onready var sprite_2d: Sprite2D = $Sprite2D

func _ready() -> void:
	interactible.interact = _on_interact
	
func _on_interact():
	if sprite_2d.frame ==0:
		sprite_2d.frame = 1
		interactible.is_interactable = false
		
"

[node name="world" type="Node2D"]
script = ExtResource("1_wse8f")

[node name="Tilesets" type="Node2D" parent="."]

[node name="floor-tiles" type="TileMapLayer" parent="Tilesets"]
z_index = -1
tile_map_data = PackedByteArray("AAABAAAAAQABAAAAAAACAAAAAQABAAAAAAACAAEAAQABAAEAAAACAAIAAAABAAAAAAACAAMAAAABAAAAAAACAAQAAAABAAAAAAACAAUAAAABAAAAAAACAAYAAAABAAAAAAACAAcAAAABAAAAAAADAAAAAQABAAAAAAADAAEAAQABAAEAAAADAAIAAAABAAAAAAADAAMAAAABAAAAAAADAAQAAAABAAAAAAADAAUAAAABAAAAAAADAAYAAAABAAAAAAADAAcAAAABAAAAAAAEAAAAAQABAAAAAAAEAAEAAQABAAEAAAAEAAIAAAABAAAAAAAEAAMAAAABAAAAAAAEAAQAAAABAAAAAAAEAAUAAAABAAAAAAAEAAYAAAABAAAAAAAEAAcAAAABAAAAAAAFAAAAAQABAAAAAAAFAAEAAQABAAEAAAAFAAIAAAABAAAAAAAFAAMAAAABAAAAAAAFAAQAAAABAAAAAAAFAAUAAAABAAAAAAAFAAYAAAABAAAAAAAFAAcAAAABAAAAAAAGAAAAAQABAAAAAAAGAAEAAQABAAEAAAAGAAIAAAABAAAAAAAGAAMAAAABAAAAAAAGAAQAAAABAAAAAAAGAAUAAAABAAAAAAAGAAYAAAABAAAAAAAGAAcAAAABAAAAAAAHAAAAAQABAAAAAAAHAAEAAQABAAEAAAAHAAIAAAABAAAAAAAHAAMAAAABAAAAAAAHAAQAAAABAAAAAAAHAAUAAAABAAAAAAAHAAYAAAABAAAAAAAHAAcAAAABAAAAAAAIAAAAAQABAAAAAAAIAAEAAQABAAEAAAAIAAIAAAABAAAAAAAIAAMAAAABAAAAAAAIAAQAAAABAAAAAAAIAAUAAAABAAAAAAAIAAYAAAABAAAAAAAIAAcAAAABAAAAAAABAAEAAQABAAEAAAABAAIAAAABAAAAAAABAAMAAAABAAAAAAABAAQAAAABAAAAAAABAAUAAAABAAAAAAABAAYAAAABAAAAAAABAAcAAAABAAAAAAABAAgAAAABAAAAAAACAAgAAAABAAAAAAADAAgAAAABAAAAAAAEAAgAAAABAAAAAAAFAAgAAAABAAAAAAAGAAgAAAABAAAAAAAHAAgAAAABAAAAAAAIAAgAAAABAAAAAAAhAAAAAQABAAAAABAgAAAAAQABAAAAABAfAAAAAQABAAAAABAeAAAAAQABAAAAABAdAAAAAQABAAAAABAcAAAAAQABAAAAABAbAAAAAQABAAAAABAaAAAAAQABAAAAABAhAAEAAQABAAEAABAgAAEAAQABAAEAABAfAAEAAQABAAEAABAeAAEAAQABAAEAABAdAAEAAQABAAEAABAcAAEAAQABAAEAABAbAAEAAQABAAEAABAaAAEAAQABAAEAABAhAAIAAAABAAAAABAgAAIAAAABAAAAABAfAAIAAAABAAAAABAeAAIAAAABAAAAABAdAAIAAAABAAAAABAcAAIAAAABAAAAABAbAAIAAAABAAAAABAaAAIAAAABAAAAABAhAAMAAAABAAAAABAgAAMAAAABAAAAABAfAAMAAAABAAAAABAeAAMAAAABAAAAABAdAAMAAAABAAAAABAcAAMAAAABAAAAABAbAAMAAAABAAAAABAaAAMAAAABAAAAABAhAAQAAAABAAAAABAgAAQAAAABAAAAABAfAAQAAAABAAAAABAeAAQAAAABAAAAABAdAAQAAAABAAAAABAcAAQAAAABAAAAABAbAAQAAAABAAAAABAaAAQAAAABAAAAABAhAAUAAAABAAAAABAgAAUAAAABAAAAABAfAAUAAAABAAAAABAeAAUAAAABAAAAABAdAAUAAAABAAAAABAcAAUAAAABAAAAABAbAAUAAAABAAAAABAaAAUAAAABAAAAABAhAAYAAAABAAAAABAgAAYAAAABAAAAABAfAAYAAAABAAAAABAeAAYAAAABAAAAABAdAAYAAAABAAAAABAcAAYAAAABAAAAABAbAAYAAAABAAAAABAaAAYAAAABAAAAABABAAsAAQAAAAEAAEACAAsAAQAAAAEAAEADAAsAAQAAAAEAAEAEAAsAAQAAAAEAAEAFAAsAAQAAAAEAAEAGAAsAAQAAAAEAAEAHAAsAAQAAAAEAAEAIAAsAAQAAAAEAAEABAAwAAQABAAAAAAACAAwAAQABAAAAAAADAAwAAQABAAAAAAAEAAwAAQABAAAAAAAFAAwAAQABAAAAAAAGAAwAAQABAAAAAAAHAAwAAQABAAAAAAAIAAwAAQABAAAAAAABAA0AAQABAAEAAAACAA0AAQABAAEAAAADAA0AAQABAAEAAAAEAA0AAQABAAEAAAAFAA0AAQABAAEAAAAGAA0AAQABAAEAAAAHAA0AAQABAAEAAAAIAA0AAQABAAEAAAABAAkAAAABAAAAAAACAAkAAAABAAAAAAADAAkAAAABAAAAAAAEAAkAAAABAAAAAAAFAAkAAAABAAAAAAAGAAkAAAABAAAAAAAHAAkAAAABAAAAAAAIAAkAAAABAAAAAAABAAoAAAABAAAAAAACAAoAAAABAAAAAAADAAoAAAABAAAAAAAEAAoAAAABAAAAAAAFAAoAAAABAAAAAAAGAAoAAAABAAAAAAAHAAoAAAABAAAAAAAIAAoAAAABAAAAAAAKAAAAAQAAAAAAABAKAAEAAQAAAAEAAAAKAAIAAQACAAEAAAAKAAMAAAABAAAAAAAKAAQAAQADAAAAAAAKAAUAAQAAAAEAAAAKAAYAAQAAAAEAAAAKAAcAAQAAAAEAAAAKAAgAAQAAAAEAAAAKAAkAAQAAAAEAAAAKAAoAAQAAAAEAAAAKAAsAAQACAAAAAFAKAAwAAQAAAAEAAAAKAA0AAQADAAAAACAJAAAAAQABAAAAAAAJAAEAAQABAAEAAAAJAAIAAAABAAAAAAAJAAMAAAABAAAAAAAJAAQAAAABAAAAAAAJAAUAAAABAAAAAAAJAAYAAAABAAAAAAAJAAcAAAABAAAAAAAJAAgAAAABAAAAAAAJAAkAAAABAAAAAAAJAAoAAAABAAAAAAAJAAsAAQAAAAEAAEAJAAwAAQABAAAAAAAJAA0AAQABAAEAAAD//wAAAQAAAAAAAAD//wEAAQAAAAEAAAD//wIAAQAAAAEAAAD//wMAAQAAAAEAAAD//wQAAQAAAAEAAAD//wUAAQAAAAEAAAD//wYAAQAAAAEAAAD//wcAAQAAAAEAAAD//wgAAQAAAAEAAAD//wkAAQAAAAEAAAD//woAAQAAAAEAAAD//wsAAQACAAAAADD//wwAAQAAAAEAAAD//w0AAQADAAAAACAAAAAAAQABAAAAAAAAAAEAAQABAAEAAAAAAAIAAAABAAAAAAAAAAMAAAABAAAAAAAAAAQAAAABAAAAAAAAAAUAAAABAAAAAAAAAAYAAAABAAAAAAAAAAcAAAABAAAAAAAAAAgAAAABAAAAAAAAAAkAAAABAAAAAAAAAAoAAAABAAAAAAAAAAsAAQAAAAEAAEAAAAwAAQABAAAAAAAAAA0AAQABAAEAAAAYAAAAAQAAAAAAAAAYAAEAAQAAAAEAABAYAAIAAQACAAEAABAYAAMAAAABAAAAABAYAAQAAQADAAAAABAYAAUAAQAAAAEAABAYAAYAAQAAAAEAABAjAAAAAQAAAAAAABAjAAEAAQAAAAEAABAjAAIAAQAAAAEAABAjAAMAAQAAAAEAABAjAAQAAQAAAAEAABAjAAUAAQAAAAEAABAjAAYAAQAAAAEAABAjAOj/AQAKAAMAAAAjACcAAQAKAAMAAAAiAAAAAQABAAAAABAiAAEAAQABAAEAABAiAAIAAAABAAAAABAiAAMAAAABAAAAABAiAAQAAAABAAAAABAiAAUAAAABAAAAABAiAAYAAAABAAAAABAZAAAAAQABAAAAABAZAAEAAQABAAEAABAZAAIAAAABAAAAABAZAAMAAAABAAAAABAZAAQAAAABAAAAABAZAAUAAAABAAAAABAZAAYAAAABAAAAABAYAAoAAQAAAAEAABAZAAoAAAABAAAAABAaAAoAAAABAAAAABAbAAoAAAABAAAAABAcAAoAAAABAAAAABAdAAoAAAABAAAAABAeAAoAAAABAAAAABAfAAoAAAABAAAAABAgAAoAAAABAAAAABAhAAoAAAABAAAAABAiAAoAAAABAAAAABAjAAoAAQAAAAEAABAYAAsAAQACAAAAAEAZAAsAAQAAAAEAAFAaAAsAAQAAAAEAAFAbAAsAAQAAAAEAAFAcAAsAAQAAAAEAAFAdAAsAAQAAAAEAAFAeAAsAAQAAAAEAAFAfAAsAAQAAAAEAAFAgAAsAAQAAAAEAAFAhAAsAAQAAAAEAAFAiAAsAAQAAAAEAAFAjAAsAAQACAAAAACAYAAcAAQAAAAEAABAYAAgAAQAAAAEAABAZAAcAAAABAAAAABAZAAgAAAABAAAAABAaAAcAAAABAAAAABAaAAgAAAABAAAAABAbAAcAAAABAAAAABAbAAgAAAABAAAAABAcAAcAAAABAAAAABAcAAgAAAABAAAAABAdAAcAAAABAAAAABAdAAgAAAABAAAAABAeAAcAAAABAAAAABAeAAgAAAABAAAAABAfAAcAAAABAAAAABAfAAgAAAABAAAAABAgAAcAAAABAAAAABAgAAgAAAABAAAAABAhAAcAAAABAAAAABAhAAgAAAABAAAAABAiAAcAAAABAAAAABAiAAgAAAABAAAAABAjAAcAAQAAAAEAABAjAAgAAQAAAAEAABAYAAkAAQAAAAEAABAZAAkAAAABAAAAABAaAAkAAAABAAAAABAbAAkAAAABAAAAABAcAAkAAAABAAAAABAdAAkAAAABAAAAABAeAAkAAAABAAAAABAfAAkAAAABAAAAABAgAAkAAAABAAAAABAhAAkAAAABAAAAABAiAAkAAAABAAAAABAjAAkAAQAAAAEAABA=")
tile_set = SubResource("TileSet_ioo17")

[node name="furniture" type="TileMapLayer" parent="Tilesets"]
z_index = -1
position = Vector2(1, -10)
tile_map_data = PackedByteArray("AADgATAAAAAAAAIAAABOADAAAAAAAAIAAADgARQAAgAGAAUAAACHAFkAAQAKAAMAAAB3AFkAAQAKAAMAAABnAFkAAQAKAAMAAABnAHkAAQAKAAMAAAB3AHkAAQAKAAMAAACHAHkAAQAKAAMAAABnAJgAAQAKAAMAAAB3AJgAAQAKAAMAAACHAJgAAQAKAAMAAAAYAFkAAQAKAAMAAAAoAFkAAQAKAAMAAAA4AFkAAQAKAAMAAAAXAHkAAQAKAAMAAAAnAHkAAQAKAAMAAAA3AHkAAQAKAAMAAAAXAJkAAQAKAAMAAAAnAJkAAQAKAAMAAAA3AJkAAQAKAAMAAAAHAHkAAQAKAAMAAAAHAJkAAQAKAAMAAAAIAFkAAQAKAAMAAACXAFkAAQAKAAMAAACXAHkAAQAKAAMAAACXAJgAAQAKAAMAAABOABQAAgAGAAUAAACmAVYAAwAEAAQAAAC9AVYAAwAEAAQAAADUAVYAAwAEAAQAAADrAVYAAwAEAAQAAAACAlYAAwAEAAQAAAAZAlYAAwAEAAQAAACmAXQAAwAEAAQAAAC9AXQAAwAEAAQAAADUAXQAAwAEAAQAAADrAXQAAwAEAAQAAAACAnQAAwAEAAQAAAAZAnQAAwAEAAQAAACmAZQAAwAEAAQAAAC9AZQAAwAEAAQAAADUAZQAAwAEAAQAAADrAZQAAwAEAAQAAAACApQAAwAEAAQAAAAZApQAAwAEAAQAAAA=")
tile_set = SubResource("TileSet_k3n1d")

[node name="fade_transition" parent="." instance=ExtResource("9_ioo17")]
visible = false

[node name="entities" type="Node2D" parent="."]

[node name="player" parent="entities" instance=ExtResource("1_f3sb7")]
position = Vector2(233, 118)

[node name="locker" parent="entities" instance=ExtResource("10_wse8f")]
position = Vector2(545, 135)
scale = Vector2(0.385785, 0.329752)

[node name="TreasureChest" parent="entities" instance=ExtResource("11_ic0uy")]
position = Vector2(429, 145)
script = SubResource("GDScript_ic0uy")
